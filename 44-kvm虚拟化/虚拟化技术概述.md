
## 1. 主机虚拟化
虚拟化技术：

	虚拟化技术类型：
		主机虚拟化：xen, kvm, virtualbox, ...
		容器（用户空间隔离）: lxc（LinuX Container）, openvz, ...
		系统库虚拟化：wine, ...
		应用程序级虚拟化：jvm, pvm,...

	主机虚拟化：
		CPU：
			模拟：emulation, 虚拟机的arch与物理平台的arch可以不相同；qemu；
			虚拟：virtualization
				完全虚拟化（full-virt）
					BT: 二进制转换 （软件）
					HVM：硬件辅助的虚拟化（硬件）
				半(准)虚拟化 (para-virt)
					GuestOS得明确知道自己运行于虚拟化技术
					
		内存：
			MMU virtualization：
				Intel: EPT, Extended Page Table
				AMD: NPT, Nested Page Table
				
			TLB virtualization：
				tagged TLB
				
		IO：
			Emulation 
			Para-virtualization
			IO-through：IO透传
			

	主机虚拟化的类型：
		TYPE-I：
			于硬件级别直接运行hypervisor；
			xen, vmware ESX/ESXI
		TYPE-II:
			于硬件级别运行一个OS（Host OS），而此OS上运行一个VMM；
			vmware workstation, virtualbox, kvm
			
	Linux目前流行的开源虚拟化技术解决方案：
		主机虚拟化：xen, kvm, virtualbox
		容器级：lxc, libcontainer, runC, openvz
		模拟器：qemu


## 2. 虚拟化的分类

冯洛伊曼计算机体系的五大结构:
1. 控制器
2. 运算器
3. 存储器
4. 输入设备
5. 输出设备

数据总线
控制总线
寻址总线

AMD-V
INTEL-VT

I/O
- 完全性虚拟化: 虚拟机的操作系统位于模拟的环 0 上
- 半虚拟化: 虚拟机的操作系统知道自己运行在虚拟化技术上，从而将部分内核功能直接由硬件上的宿主机操作系统来提供
- I/O 透传


主机类型虚拟化
1. 一型虚拟化: 没有位于硬件之上的宿主操作系统，位于硬件上的是虚拟机软件(hyppervisor)，由hyppervisor创建和管理虚拟机
2. 二型虚拟化: 在硬件之上存在一个操作系统，称为宿主机，并且宿主机上存在一个专门管理和创建虚拟的软件(VMM),常见的 VirtualBox， VMWare 都属于 二型虚拟化

容器级虚拟化: 只虚拟化出用户空间，而没有虚拟化内核空间，一个内核上存在多个用户空间，每个虚拟出的内核空间为一个容器。特点是隔离性没那么好，但是性能损失很少


库级别虚拟化: 没有虚拟化任何东西，只是额外提供了程序运行的所需的额外库，比如wine

程序级虚拟化: java 虚拟机