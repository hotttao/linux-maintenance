# 22.1 关系型数据库基础
mariadb(mysql) 是最常用的开源关系型数据库，本节我们就对关系型数据库做一个简单介绍。

## 1. 关系型数据库
### 1.1 数据模型
数据模型有，层次模型、网状模型、关系模型。关系模型是二维关系表现为表中的列和行。数据库管理系统称为 DBMS(DataBase Management System)，关系型数据库管理系统则称为 RDBMS(Relational  DataBase Management System)，常见的 RDMBS:
- Mysql/MariaDB/Percona-Server
- PostgreSQL
- Oracle

### 1.2 事务(Transaction)
事务含义是将多个操作为一个整体，要么全部都执行，要么全部都不执行；其遵循 ACID：
- A：原子性；
- C：一致性；
- I：隔离性；
- D：持久性；

## 2. RDMBS设计范式
设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。目前关系数据库有六种范式：
- 第一范式（1NF）: **每一列都是原子，不可在分割的**
- 第二范式（2NF）: **每一行都可以使用其有限字段进行唯一标志(不存在重复的行)**
- 第三范式（3NF）、巴德斯科范式（BCNF）: **任何表都不应该有依赖于其他表的非主键字段**
- 第四范式(4NF）和
- 第五范式（5NF，又称完美范式）

满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般说来，数据库只需满足第三范式(3NF）就行了。


## 3. mysql 使用基础
mysql 是 C/S 架构的服务，需要分别安装 mysql 的服务器和客户端工具。
- 客户端工具: mysql, mysqldump, mysqladmin
- 服务器工具: mysqld, mysql_safe(线程安全的 mysql，线上使用的mysql服务使用此命令)，mysql_multi

```
yum install mysql-server  # 服务器端
yum isntall mysql         # 客户端
```

### mysql 客户端使用
`mysql options`
- 作用: mysql 客户端连接命令
- 选项:
  - `-u<user>`
  - `-p<password>`
  - `-h<host>`

mysql 客户端内可输入的命令分为两类:
1. 客户段命令: 只在客户端运行的命令，使用 help 可获取此类命令的帮助
2. 服务段命令: 通过 mysql 的协议送到服务段运行的命令，所以必须要有命令结束符,默认为 `;`

```
$ mysql -uroot -p1234
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 3
Server version: 5.5.56-MariaDB MariaDB Server

Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> help              # help 查看 mysql 的所有命令
List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
........

For server side help, type 'help contents'


MariaDB [(none)]> help contents   # 查看 mysql 命令的组成部分
For more information, type 'help <item>', where <item> is one of the following
categories:
   Account Management
   Administration
   Compound Statements
   Data Definition
   Data Manipulation
.........


MariaDB [(none)]> help 'Account Management'   # 查看特定命令组内的命令
topics:
   CREATE USER
   DROP USER
   GRANT
   RENAME USER
   REVOKE
   SET PASSWORD

MariaDB [(none)]> help 'CREATE USER'   # 查看特定命令使用帮助
```
