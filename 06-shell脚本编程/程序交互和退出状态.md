# 6.8 程序交互和退出状态
本节我们开始学习 bash shell 编程的第八部分，包含以下内容:
1. 如何在程序执行过程中与用户交互
2. bash 编程调试
3. 设置脚本执行的状态返回值

## 1. 用户交互
bash 中与用户交互主要通过 read 命令完成，read 可以输出一段文字提示用户输入指定内容，并将用户输入保存在特定变量中，read 的使用方式如下
`read [OPTIONS] [变量名 ...]`
- 作用:从标准输入读取一行并将其分为不同的域
- 选项:
  - `-p 提示符`: 用户提示符
	- `-t 超时`: 设置等待用户输入的超时时长，单位秒
  - `-a 数组`
	- `-d 分隔符`
	- `-i 缓冲区文字`
	- `-n 读取字符数`
	- `-N 读取字符数`
	- `-u 文件描述符`

```
> read -p "enter a disk filename"  -t  5  name
> [  -z  "$name"  ]   &&  name="value"

> read a b
jerry mark cd

> echo $a
jerry

> echo $b  # 值个数多于变量个数时，所有多余的变量默认保存在最后一个变量中
mark cd
```

## 2. bash 调试
bash 命令有两个参数可以帮助我们调试
- `bash  -n  script.sh`  -- 检查脚本语法错误
- `bash  -x  script.sh`  --  单步执行，显示代码执行的详细过程


## 3. 脚本的状态返回值
之前我们说过，程序执行有状态返回值，保存在 `$?` 变量中。shell 脚本的状态返回值有如下特点:
1. 默认是脚本中执行的最后一条件命令的状态返回值
2. 使用 `exit [n]` 可自定义退出状态码，n 位于 0-255 之间，0 表示执行成功无异常，默认为 0
3. exit 类似 python 中的return，程序遇到 exit 即终止
